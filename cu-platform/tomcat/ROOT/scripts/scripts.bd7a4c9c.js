function configure(a){a.defaults={size:80,"default":"mm"},a.secure=!0}!function(){"use strict";angular.module("webuiApp",["ngResource","ngCookies","ngSanitize","ngAnimate","ngRoute","ui.router","angularFileUpload","ngTable","ui.gravatar","angularUtils.directives.dirPagination","textAngular","angular-timeline","angular.filter","ui.bootstrap","webuiApp.filters","webuiApp.directives","webuiApp.editApplication","webuiApp.account"]).constant("moment",moment).config(function(){moment.locale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"[Today]"}})})}(),angular.module("webuiApp").config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/dashboard"),a.state("login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login",data:{isFree:!0}}).state("dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard",data:{isFree:!1}}).state("snapshot",{url:"/snapshot",templateUrl:"views/snapshot.html",controller:"SnapshotCtrl",controllerAs:"snapshot",data:{isFree:!1}}).state("editApplication",{url:"/editApplication/:name/:tab",templateUrl:"views/editApplication.html",controller:"EditApplicationCtrl",controllerAs:"editApp",resolve:{CurrentApplicationName:["$stateParams",function(a){return a.name}],CurrentApplication:["ApplicationService","$stateParams",function(a,b){return a.findByName(b.name)}]},data:{isFree:!1}}).state("account",{"abstract":!0,url:"/account",template:"<ui-view/>"}).state("account.admin",{url:"/admin",templateUrl:"views/account.admin.html",controller:"AccountAdminCtrl",controllerAs:"accountAdmin",data:{isFree:!1}}).state("account.logs",{url:"/logs/:login",templateUrl:"views/account.admin.logs.html",controller:"AccountLogsCtrl",controllerAs:"accountLogs",data:{isFree:!1}})}]),angular.module("webuiApp").config(["$httpProvider",function(a){a.defaults.headers.get||(a.defaults.headers.get={}),a.defaults.headers.get["If-Modified-Since"]="0"}]),angular.module("ui.gravatar").config(configure),configure.$inject=["gravatarServiceProvider"],function(){"use strict";angular.module("webuiApp.editApplication",[])}(),function(){"use strict";angular.module("webuiApp.account",[])}(),function(){"use strict";angular.module("webuiApp.filters",[])}(),function(){"use strict";function a(a,b,c,d){function e(){g()&&b.profile().then(function(a){i.isAdmin="ROLE_ADMIN"===a.data.role.description})}function f(){b.logout(),d.go("login"),h&&(c.cancel(h),h=null)}function g(){return b.isLogged()}var h,i=this;i.isFrozen=!1,i.isAdmin=!1,i.systemError=!1,i.isLogged=g,i.logout=f,i.browserOutdated=!1,e(),a.$on(":loginSuccess",function(){i.systemError=!1,d.go("dashboard")}),a.$on(":freezeSystem",function(){i.isFrozen=!0}),a.$on(":unFreezeSystem",function(){i.isFrozen=!1}),a.$on(":systemError",function(a,b){i.systemError=b.message,f()}),a.$on(":unauthorized",function(a,b){i.systemError=b.message,f()}),a.$on(":forbidden",function(a,b){i.systemError=b.message,d.go("dashboard")}),a.$on("$stateChangeStart",function(a,c){var j=!c.data.isFree;j&&!g()&&f(),"login"===c.name&&g()&&d.go("dashboard"),"login"!==c.name&&(e(),h||(h=b.checkUserStatus())),"login"===c.name&&(i.isFrozen=!1)})}angular.module("webuiApp").controller("MainCtrl",a),a.$inject=["$rootScope","UserService","$interval","$state"]}(),function(){"use strict";function a(a,b,c,d){function e(){function a(a){return k.applications=a,k.applications}function e(a){d.handle(a),j&&b.cancel(j)}c.list().then(a)["catch"](e)}function f(a){c.remove(a)}function g(a){"START"===a.status?i(a.name):"STOP"===a.status&&h(a.name)}function h(a){c.start(a)}function i(a){c.stop(a)}var j,k=this;k.applications=[],k.selectedItem="All",k.search="",k.deleteApplication=f,k.toggleServer=g,e(),j=b(function(){e()},2e3),a.$on("$destroy",function(){b.cancel(j)})}angular.module("webuiApp").controller("DashboardCtrl",a),a.$inject=["$scope","$interval","ApplicationService","ErrorService"]}(),function(){"use strict";function a(a,b,c){function d(){f.user={username:"",password:""}}function e(e,f){function g(){b.createLocalSession(),d(),a.$emit(":loginSuccess")}function h(a){c.handle(a)}return b.check(e,f).then(g)["catch"](h)}var f=this;f.user={username:"",password:""},f.check=e}angular.module("webuiApp").controller("LoginCtrl",a),a.$inject=["$scope","UserService","ErrorService"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return l?h():i()}function h(){function a(a){return m.messages=a,m.messages}function b(a){f.handle(a),j&&c.cancel(j)}d.listMessages().then(a)["catch"](b)}function i(){function a(a){return m.messages=a,m.messages}function b(a){f.handle(a),j&&c.cancel(j)}k&&d.listMessagesForCurrentApplication(k).then(a)["catch"](b)}var j,k,l,m;k=e.name,l="/dashboard"===b.path(),m=this,m.messages={},g(),j=c(function(){return l?h():i()},2e3),a.$on("$destroy",function(){c.cancel(j)})}angular.module("webuiApp").controller("MessageCtrl",a),a.$inject=["$scope","$location","$interval","MessageService","$stateParams","ErrorService"]}(),function(){"use strict";function a(a,b,c){function d(){function b(a){var b=[];angular.forEach(a,function(a){a.calendarDate=c("date")(a.date,"mediumDate"),b.push(a)}),i.snapshots=b}a.list().then(b)}function e(b){function c(){d(),h()}function e(a){i.errorMsg=a.data.message}a.cloneTag(i.applicationName,b.tag).then(c)["catch"](e)}function f(b){function c(){d()}function e(a){i.errorMsg=a.data.message}a.deleteTag(b).then(c)["catch"](e)}function g(a,c){function d(){i.message=""}function e(a){i.message=a.data.message}b.isValid(a,c).then(d)["catch"](e)}function h(){i.cloneAppForm.$setPristine(),i.applicationName="",i.message=""}var i=this;i.snapshots=[],i.deleteTag=f,i.cloneTag=e,i.isValid=g,i.applicationName="",i.message="",i.resetForm=h,i.errorMsg=!1,d()}angular.module("webuiApp").controller("SnapshotCtrl",a),a.$inject=["SnapshotService","ApplicationService","$filter"]}(),function(){"use strict";function a(a){function b(){a.list().then(function(a){c.list=a})}var c=this;c.list=[],c.getApplications=b,b()}angular.module("webuiApp").controller("QuickEditCtrl",a),a.$inject=["ApplicationService"]}(),function(){"use strict";function a(a,b,c,d){function e(){function a(a){h.serverImages=a,h.serverImageChoice=a[2]}function b(a){d.handle(a)}c.findEnabledServer().then(a)["catch"](b)}function f(a,c){function d(){h.createAppForm.$setPristine(),h.applicationName=""}function e(a){h.message=a.data.message}b.create(a,c).then(d)["catch"](e)}function g(a,c){function d(){h.notValidated=!1,h.message=""}function e(a){h.message=a.data.message,h.notValidated=!0}b.isValid(a,c).then(d)["catch"](e)}var h=this;h.applicationName="",h.serverImages=[],h.serverImageChoice={},h.notValidated=!0,h.message="",h.createApplication=f,h.isValid=g,e()}angular.module("webuiApp").controller("CreateApplicationCtrl",a),a.$inject=["$scope","ApplicationService","ImageService","ErrorService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){function a(a){return j.application=a,j.application}function b(a){g.handle(a)}c.findByName(e).then(a)["catch"](b)}var i,j=this;j.application=d,j.currentTab=f.tab,h(),i=b(function(){h()},2e3),a.$on("$destroy",function(){b.cancel(i)})}angular.module("webuiApp.editApplication").controller("EditApplicationCtrl",a),a.$inject=["$scope","$interval","ApplicationService","CurrentApplication","CurrentApplicationName","$stateParams","ErrorService"]}(),function(){"use strict";function a(a){function b(b,c){function e(){d.errorMsg="",d.domain=""}function f(a){return d.errorMsg=a.data.message,d.errorMsg}a.createAlias(b,c).then(e)["catch"](f)}function c(b,c){a.removeAlias(b,c)}var d=this;d.domain="",d.errorMsg="",d.createAlias=b,d.removeAlias=c}angular.module("webuiApp.editApplication").controller("AliasCtrl",a),a.$inject=["ApplicationService"]}(),function(){"use strict";function a(a,b,c){function d(a){"START"===a.status?f(a.name):"STOP"===a.status&&e(a.name)}function e(c){b.start(c),a.$emit("workInProgress",{delay:3e3})}function f(c){b.stop(c),a.$emit("workInProgress",{delay:3e3})}function g(a){var b=c("truncatestringfilter")(a);return"views/_"+b+"-module.html"}var h=this;h.toggleServer=d,h.getTplUrl=g}angular.module("webuiApp.editApplication").controller("OverviewCtrl",a),a.$inject=["$scope","ApplicationService","$filter"]}(),function(){"use strict";function a(a,b){function c(){function a(a){return f.moduleImages=a,f.moduleImages}function c(){console.log("cannot get modules images")}return b.findEnabledModule().then(a)["catch"](c)}function d(b,c){return a.addModule(b,c)}function e(b,c){return a.removeModule(b,c)}var f=this;f.moduleImages=[],f.addModule=d,f.removeModule=e,c()}angular.module("webuiApp.editApplication").controller("ModulesCtrl",a),a.$inject=["ModuleService","ImageService"]}(),function(){"use strict";function a(a,b){function c(c,d,e,f){b.saveConfigurationJVM(c,d,e,f),a.$emit("workInProgress",{delay:1e4})}var d,e=this;d=a.editApp.application,e.jvmOptions=d.servers[0].jvmOptions,e.jvmMemory=d.servers[0].jvmMemory,e.jvmRelease=d.servers[0].jvmRelease,e.selectedJvmMemory=e.jvmMemory,e.selectedJvmRelease=e.jvmRelease,e.jvmMemorySizes=[512,1024,2048,3072],e.jvmReleases=["7","8"],e.saveConfigurationJVM=c}angular.module("webuiApp.editApplication").controller("ConfigJVMCtrl",a),a.$inject=["$scope","ServerService"]}(),function(){"use strict";function a(a,b){var c,d,e;e=this,d=a.editApp.application,e.errors={fileTypeError:!1,sizeFilter:!1,cancelMessage:!1},c=a.uploader=new b({url:"application/"+d.name+"/deploy",removeAfterUpload:!0,queueLimit:1}),c.filters.push({name:"extensionFilter",fn:function(a){var b=["ear","war"],c=a.name.split(".");return-1!==b.indexOf(c[c.length-1])}}),c.filters.push({name:"sizeFilter",fn:function(a){return a.size<3e8}}),c.onWhenAddingFileFailed=function(a,b,c){"extensionFilter"===b.name&&(e.errors.fileTypeError=!0),"sizeFilter"===b.name&&(e.errors.sizeError=!0)},c.onAfterAddingFile=function(a){e.errors.fileTypeError=!1,e.showMeta=!0},c.onCancelItem=function(a,b,c,d){e.errors.cancelMessage=!0}}angular.module("webuiApp.editApplication").controller("DeployCtrl",a),a.$inject=["$scope","FileUploader"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){k().then(function(){l().then(function(){j()})})}function j(){c.gatherNbRows(f.name,n.myContainer.id,n.selectedSource,n.myRows.value).then(function(b){n.userdata=b,n.isLoading=!1,a.tableParams.reload()})["catch"](function(a){console.log(a.statusText)})}function k(){var a=h.defer();return g.listContainers(f.name).then(function(b){return a.resolve(),n.containers=b,n.myContainer=b[0],n.containers})["catch"](function(b){a.reject(b.statusText)}),a.promise}function l(){var a=h.defer();return c.getSources(f.name,n.myContainer.id).then(function(b){angular.forEach(b,function(a){("catalina.out"===a.name||"server.log"===a.name)&&(n.selectedSource=a.name)}),n.sources=b,a.resolve()})["catch"](function(b){a.reject(b.statusText)}),a.promise}var m,n=this;n.userdata=[],n.selectedSource="",n.sources=[],n.containers=[],n.myContainer={},n.updateLogs=j,n.rows=[{value:100},{value:500},{value:1e3},{value:5e3}],n.myRows=n.rows[0],n.isLoading=!0,i(),m=b(function(){j()},2e3),a.$on("$destroy",function(){b.cancel(m)}),a.$watch(a.editApp.currentTab,function(){"logs"!==a.editApp.currentTab&&b.cancel(m)}),a.tableParams=new d({page:1,count:25,filter:{message:""}},{$scope:a,total:n.userdata.length,getData:function(a,b){var c=b.filter()?e("filter")(n.userdata,b.filter()):n.userdata;n.users=c.slice((b.page()-1)*b.count(),b.page()*b.count()),b.total(c.length),a.resolve(n.users)}})}angular.module("webuiApp.editApplication").controller("LogsCtrl",a),a.$inject=["$scope","$interval","LogService","ngTableParams","$filter","$stateParams","ApplicationService","$q"]}(),function(){"use strict";function a(a){function b(b,d){function e(){c.newSnapshot.name="",c.newSnapshot.description="Enter a comment, your teammate will appreciate"}function f(a){"You can't create a snapshot if your app is pending"!==a.data.message&&(c.message=a.data.message)}a.create(b,d).then(e)["catch"](f)}var c=this;c.message="",c.createNewSnapShot=b,c.newSnapshot={name:"",description:"Enter a comment, your teammate will appreciate"}}angular.module("webuiApp.editApplication").controller("EditSnapShotCtrl",a),a.$inject=["SnapshotService"]}(),function(){"use strict";function a(a,b){function c(c){return a.listContainers(b.name).then(function(a){return d.containers=a,d.myContainer=c||a[0],d.isLoading=!1,d.containers})["catch"](function(a){console.error(a)})}var d=this;d.containers=[],d.myContainer={},d.isLoading=!0,d.getContainers=c,c()}angular.module("webuiApp.editApplication").controller("MonitoringCtrl",a),a.$inject=["ApplicationService","$stateParams"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){k().then(function(b){var c=a||0;q.containers=b,q.myContainer=b[c],l(r,"rootFolder").then(function(a){l(a[0].name,"subFolder"),q.currentPath.push(a[0].name)})["catch"](function(a){console.error(a)})})["catch"](function(a){console.error(a)})}function i(a){q.rootFolder=[],q.subFolder=[],q.currentPath=[],h(a)}function j(b,d,f){var g="__"+d.join("__")+"__"+f.name;c.deleteFile(b,a.name,g).then(function(){e(function(){l(q.currentPath.join("__"),"subFolder")},1e3)})["catch"](function(a){console.log("Cannot delete file : "+a)})}function k(){var c=d.defer();return b.listContainers(a.name).then(function(a){c.resolve(a)})["catch"](function(a){c.reject(a)}),c.promise}function l(a,b){var e,f=d.defer();return e=a==r?a:r+a.replace(" ","__")+"__",c.buildTree(q.myContainer.id,e).then(function(a){return f.resolve(a),q[b]=a})["catch"](function(a){f.reject(a)}),f.promise}function m(a,b){b&&(q.currentPath=[]),a&&a.dir&&(q.currentPath.push(a.name),l(q.currentPath.join("__"),"subFolder"))}function n(a){q.currentPath[0]&&(q.currentPath=q.currentPath.slice(0,a+1),l(q.currentPath.join("__"),"subFolder"))}function o(b,d,e){e.dir||c.downloadFile(b,a.name,"__"+q.currentPath.join("__"),e.name).then(function(a){var b=new Blob([a.data],{type:a.headers["content-type"]});saveAs(b,e.name)})}var p,q=this,r="__";q.containers=[],q.myContainer={},q.rootFolder=[],q.subFolder=[],q.currentPath=[],q.buildTree=l,q.getContainers=k,q.errors={fileTypeError:!1},q.upDir=n,q.folderClick=m,q.downloadFile=o,q.deleteFile=j,q.refresh=i,h(),p=g.uploader=new f({autoUpload:!1,removeAfterUpload:!0,queueLimit:1}),p.onAfterAddingFile=function(b){q.dropped=!1,b.url="/file/container/"+q.myContainer.id+"/application/"+a.name+"/path/__"+q.currentPath.join("__")+"__",p.uploadAll(),q.isUploading=!0,q.dropped=!0,q.errors.fileTypeError=!1},p.onCompleteAll=function(){q.dropped=!1,q.uploadSuccess=!0,q.isUploading=!1,l(q.currentPath.join("__"),"subFolder").then(function(){q.uploadSuccess=!1})}}angular.module("webuiApp.editApplication").controller("ExplorerCtrl",a),a.$inject=["$stateParams","ApplicationService","ExplorerService","$q","$timeout","FileUploader","$scope"]}(),function(){"use strict";function a(a){var b=this;b.user=a}angular.module("webuiApp.account").controller("AccountUserCtrl",a),a.$inject=["user"]}(),function(){"use strict";function a(a,b){function c(a){b.deleteUser(a.login).then(function(){e()})["catch"](function(a){return h.errorMsg=a.data.message,h.errorMsg})}function d(c){function d(){a.$broadcast(":formSuccess"),g(),e()}function f(b){return a.$broadcast(":formError"),h.errorMsg=b.data.message,h.errorMsg}b.createUser(c).then(d)["catch"](f)}function e(){function a(a){return h.users=a,h.users}return b.getUsers().then(a)}function f(a,c){b.changeRole(a,c).then(function(){e()})["catch"](function(a){return h.errorMsg=a.data.message,h.errorMsg})}function g(){h.user={email:"",firstName:"",lastName:"",login:"",organization:"",password:""},a.createUserForm.$setPristine()}var h=this;h.users=[],h.user={email:"",firstName:"",lastName:"",login:"",organization:"",password:""},h.roles=["user","admin"],h.deleteUser=c,h.createUser=d,h.changeRole=f,h.errorMsg="",e()}angular.module("webuiApp.account").controller("AccountAdminCtrl",a),a.$inject=["$scope","AdminService"]}(),function(){"use strict";function a(a){var b=this;b.statuses=a,b.selectedStatus=b.statuses[0],b.currentPage=1,b.pageSize=10}angular.module("webuiApp.account").config(["paginationTemplateProvider",function(a){a.setPath("views/pagination.html")}]).value("statuses",[{name:"All",value:""},{name:"Normal",value:"normal"},{name:"Low",value:"low"},{name:"Inactive",value:"none"}]).controller("AccountListCtrl",a),a.$inject=["statuses"]}(),function(){"use strict";function a(a,b,c){function d(){function d(a){return e.events=a.data,e.events}function f(a){c.handle(a)}a.getUserLogs(e.rows,b.login).then(d)["catch"](f)}var e=this;e.user={login:b.login},e.events=[],e.rows=1e5,e.currentPage=1,e.pageSize=15,d()}angular.module("webuiApp.account").controller("AccountLogsCtrl",a),a.$inject=["AdminService","$stateParams","ErrorService"]}(),function(){"use strict";function a(a,b){function c(){b.logout(),a.path("/login")}var d=this;d.logout=c}angular.module("webuiApp").controller("ErrorCtrl",a),a.$inject=["$location","UserService"]}(),function(){"use strict";function a(a,b,c,d,e){function f(a,c){var d,e;return d="j_username="+a+"&j_password="+c+"&submit=Login",e={"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/plain, */*"},b.post("/user/authentication",d,{headers:e})}function g(){return b.get("/user/status",{})}function h(){return j(),b.get("/user/logout",{})}function i(){a.put("isLogged","true")}function j(){a.remove("isLogged")}function k(){return void 0!==a.get("isLogged")}function l(){g().then(function(a){return a.data.role.description})}function m(){return n(),c(function(){n()},2e3)}function n(){g().then(function(a){3===a.data.status?e.$broadcast(":freezeSystem"):e.$broadcast(":unFreezeSystem")})["catch"](function(a){d.handle(a)})}var o={};return o.check=f,o.profile=g,o.logout=h,o.createLocalSession=i,o.deleteLocalSession=j,o.isLogged=k,o.getRole=l,o.checkUserStatus=m,o}angular.module("webuiApp").factory("UserService",a),a.$inject=["$cookieStore","$http","$interval","ErrorService","$rootScope"]}(),function(){"use strict";function a(a,b,c){function d(){function b(a){return angular.forEach(a.data,function(a){h(a),a.signin=l(a.signin),e.push(a)}),e}function d(a){c.handle(a)}var e=[];return a.get("/admin/users").then(b)["catch"](d)}function e(b){return a.post("/admin/user",b)}function f(b){return a["delete"]("/admin/user/"+b)}function g(b,c){var d={login:b.login,role:c};return a.post("/admin/user/rights",d)}function h(a){return angular.extend(a,{activity:j(a.lastConnection)}),a}function i(b,c){return a.get("/admin/messages/rows/"+b+"/login/"+c)}function j(a){var b="normal",c=k(a);return null===c||c>60?b="none":c>30&&60>c&&(b="low"),b}function k(a){return null!==a?b().diff(b(a),"days"):a}function l(a){return b(a).toDate()}return{getUsers:d,createUser:e,deleteUser:f,changeRole:g,getUserLogs:i}}angular.module("webuiApp").factory("AdminService",a),a.$inject=["$http","moment","ErrorService"]}(),function(){"use strict";function a(a,b){function c(){return m.query().$promise}function d(a,b){var c={};return c.applicationName=a,c.serverName=b,m.save(JSON.stringify(c)).$promise}function e(b){var c={};c.applicationName=b;var d=a("application/start");return d.save(JSON.stringify(c))}function f(b){var c={};c.applicationName=b;var d=a("application/stop");return d.save(JSON.stringify(c))}function g(b,c){var d=a("application/verify/"+b+"/"+c);return d.get().$promise}function h(a){m.get({id:a},function(a){a.$delete()})}function i(a){return m.get({id:a}).$promise}function j(b){var c=a("application/:applicationName/containers");return c.query({applicationName:b}).$promise}function k(a,c){var d={applicationName:a,alias:c};return b.post("application/alias",d)}function l(a,c){return b["delete"]("application/"+a+"/alias/"+c)}var m;return m=a("application/:id",{id:"@name"}),{list:c,create:d,start:e,stop:f,isValid:g,remove:h,findByName:i,listContainers:j,createAlias:k,removeAlias:l}}angular.module("webuiApp").factory("ApplicationService",a),a.$inject=["$resource","$http"]}(),angular.module("webuiApp").factory("ModuleService",["$resource",function(a){var b={},c=a("module/:applicationName/:moduleName");return b.addModule=function(a,b){var d={};return d.applicationName=a,d.imageName=b,c.save(JSON.stringify(d))},b.removeModule=function(a,b){return c["delete"]({applicationName:a,moduleName:b})},b}]),function(){"use strict";function a(a){function b(){var b=a("image/enabled");return b.query()}function c(){var b=a("image/server/enabled");return b.query().$promise}function d(){var b=a("image/module/enabled");return b.query().$promise}function e(){var b=a("image/all");return b.query()}return{findEnabled:b,findEnabledServer:c,findEnabledModule:d,findAll:e}}angular.module("webuiApp").factory("ImageService",a),a.$inject=["$resource"]}(),function(){"use strict";function a(a){function b(b,c,d,e){var f=a("logs/:applicationName/container/:containerId/source/:source/rows/:nbRows");return f.query({applicationName:b,containerId:c,source:d,nbRows:e}).$promise}function c(b,c){var d=a("logs/sources/:applicationName/container/:containerId");return d.query({applicationName:b,containerId:c}).$promise}return{gatherNbRows:b,getSources:c}}angular.module("webuiApp").factory("LogService",a),a.$inject=["$resource"]}(),angular.module("webuiApp").factory("ServerService",["$resource",function(a){var b={};return b.saveConfigurationJVM=function(b,c,d,e){var f=a("server/configuration/jvm",{},{update:{method:"PUT"}});return f.update({applicationName:b,jvmMemory:c,jvmOptions:d,jvmRelease:e,location:"webui"})},b}]),function(){"use strict";function a(a){function b(){var b=a("messages/rows/10");return b.query().$promise}function c(b){var c=a("messages/application/"+b+"/rows/10");return c.query().$promise}return{listMessages:b,listMessagesForCurrentApplication:c}}angular.module("webuiApp").factory("MessageService",a),a.$inject=["$resource"]}(),function(){"use strict";function a(a,b){function c(){var b=a("snapshot/list");return b.query().$promise}function d(a){return b["delete"]("snapshot/"+a)}function e(a,c){var d={applicationName:a,tag:c};return b.post("snapshot/clone",d)}function f(a,c){var d={applicationName:a,description:c.description,tag:c.name};return b.post("snapshot",d)}return{list:c,deleteTag:d,cloneTag:e,create:f}}angular.module("webuiApp").factory("SnapshotService",a),a.$inject=["$resource","$http"]}(),function(){"use strict";function a(a){function b(b){var c=a("monitoring/:containerId");return c.query({containerId:b}).$promise}return{gatherNbRows:b}}angular.module("webuiApp").factory("MonitoringService",a),a.$inject=["$resource"]}(),function(){"use strict";function a(a){function b(b){401===b.status&&a.$broadcast(":unauthorized",{message:"The username or password you entered was incorrect"}),(500===b.status||404===b.status)&&a.$broadcast(":systemError",{message:"Sorry, an internal error has occurred. Please login later or contact support"}),403===b.status&&a.$broadcast(":forbidden",{message:"Sorry, access to this page is restricted"})}return{handle:b}}angular.module("webuiApp").factory("ErrorService",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(a){function b(b,c){var d=a("/file/container/:containerId/path/:path");return d.query({containerId:b,path:c}).$promise}function c(b,c,d){var e=a("/file/container/:containerId/application/:applicationName/path/:path");return e["delete"]({containerId:b,applicationName:c,path:d}).$promise}function d(b,c,d,e){var f=a("/file/container/:containerId/application/:applicationName/path/:path/fileName/:fileName",{containerId:b,applicationName:c,path:d,fileName:e},{get:{method:"GET",transformResponse:function(a,b){var c={};return c.data=a,c.headers=b(),c}}});return f.get().$promise}return{buildTree:b,downloadFile:d,deleteFile:c}}angular.module("webuiApp").factory("ExplorerService",a),a.$inject=["$resource"]}(),function(){"use strict";angular.module("webuiApp.directives",[])}(),angular.module("webuiApp.directives").directive("showtab",function(){return{link:function(a,b,c){b.click(function(a){var d=c.href,e=$("li > a[href="+d+"]"),f=$(".menu-group > li");f.removeClass("active"),$(b).tab("show"),e.parent().addClass("active"),a.preventDefault()})}}}),angular.module("webuiApp.directives").directive("modaldismiss",["$document",function(a){return{link:function(b,c){a.bind("keyup",function(a){c.hasClass("in")&&27===a.keyCode&&c.modal("hide")})}}}]),angular.module("webuiApp.directives").directive("tooltip",function(){return{link:function(a,b,c){b.tooltip({title:function(){return c.title},placement:c.placement})}}}),angular.module("webuiApp.directives").directive("freeze",["$timeout",function(a){return{scope:!0,link:function(b,c){b.$on("workInProgress",function(d,e){c.addClass("pending"),a(function(){c.removeClass("pending"),b.$broadcast("workDone")},e.delay)})}}}]),angular.module("webuiApp.directives").directive("oneclickselect",function(){return function(a,b){b.bind("click",function(){b.focus().select()})}}),angular.module("webuiApp.directives").directive("selectbox",function(){return{link:function(a){a.selectItem=function(b){a.selectedItem=b}}}}),angular.module("webuiApp.directives").directive("ripple",function(){var a={init:function(a,b){var c,d,e,f,g;c=a.children(),0===c.find(".ink").length&&c.prepend('<span class="ink"></span>'),d=c.find(".ink"),d.removeClass("animate"),d.height()||d.width()||(e=Math.max(c.outerWidth(),c.outerHeight()),d.css({height:e,width:e})),f=b.pageX-c.offset().left-d.width()/2,g=b.pageY-c.offset().top-d.height()/2,d.css({top:g+"px",left:f+"px"}).addClass("animate")}};return function(b,c){c.bind("click",function(b){a.init(c,b)})}}),angular.module("webuiApp.directives").directive("clickOnce",["$timeout",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){c.attr("disabled",!0),a(function(){c.attr("disabled",!1)},2e3)})}}}]),angular.module("webuiApp.directives").directive("autofillFix",function(){return function(a,b,c){b.prop("method","POST"),c.ngSubmit&&setTimeout(function(){b.unbind("submit").bind("submit",function(d){d.preventDefault(),b.find("input, textarea, select").trigger("input").trigger("change").trigger("keydown"),a.$apply(c.ngSubmit)})},0)}}),angular.module("webuiApp.directives").directive("closeModal",[function(){return{link:function(a){a.$on(":formError",function(a){a.preventDefault()}),a.$on(":formSuccess",function(){$("#create-user").modal("hide")})}}}]),function(){"use strict";angular.module("webuiApp.directives").directive("revealPassword",function(){return function(a,b){b.bind("click",function(){b.parent().toggleClass("show"),b.parent().hasClass("show")?b.children().removeClass("eye").addClass("eyeclose"):b.children().removeClass("eyeclose").addClass("eye")})}})}(),function(){"use strict";angular.module("webuiApp.directives").directive("reloadChart",function(){return{scope:{media:"@"},link:function(a,b){a.$watch("media",function(){$(b).attr("src",$(b).attr("src"))})}}})}(),function(){"use strict";function a(){return function(a){var b="";switch(a){case"START":b="Start";break;case"STOP":b="Stop";break;case"PENDING":b="Processing";break;case"FAIL":b="Error";break;default:b="Start"}return b}}angular.module("webuiApp.filters").filter("formatAppStatus",a)}(),angular.module("webuiApp").filter("truncatestringfilter",function(){return function(a){var b=a.split("-");return b[0]}}),angular.module("webuiApp").filter("stringtobooleanfilter",function(){return function(a){return"false"===a}}),function(){"use strict";function a(){return function(a){return a?moment(a).calendar():void 0}}angular.module("webuiApp.filters").filter("formatdatecalendar",a)}(),angular.module("webuiApp").filter("unique",function(){return function(a,b){if(b===!1)return a;if((b||angular.isUndefined(b))&&angular.isArray(a)){var c=[],d=function(a){return angular.isObject(a)&&angular.isString(b)?a[b]:a};angular.forEach(a,function(a){for(var b=!1,e=0;e<c.length;e++)if(angular.equals(d(c[e]),d(a))){b=!0;break}b||c.push(a)}),a=c}return a}}),function(){"use strict";function a(){return function(a){var b="";switch(a){case"ROLE_ADMIN":b="Admin";break;case"ROLE_USER":b="User";break;default:b="Unknown"}return b}}angular.module("webuiApp.filters").filter("formatUserRoles",a)}(),angular.module("webuiApp").filter("cleanPath",function(){return function(a){return a.replace("/","")}});